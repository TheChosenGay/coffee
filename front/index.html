<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>☕ Coffee - Room Service Tester</title>
</head>
<body>
  <div id="app">
    <h1>☕ Coffee Service Tester</h1>
    
    <div class="main-container">
      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h2>管理面板</h2>
        </div>
        <div class="tabs">
          <button class="tab-btn active" data-tab="users">
            <span>👤</span>
            <span>用户管理</span>
          </button>
          <button class="tab-btn" data-tab="rooms">
            <span>🏠</span>
            <span>房间管理</span>
          </button>
          <button class="tab-btn" data-tab="chat">
            <span>💬</span>
            <span>聊天</span>
          </button>
        </div>
      </aside>
      
      <!-- Main Content -->
      <main class="content">
        <!-- Users Tab Content -->
        <div class="tab-content active" id="users-tab">
          <div class="section">
            <h2>👤 注册用户</h2>
            <div class="create-form">
              <input 
                type="text" 
                id="nickname" 
                placeholder="昵称" 
                maxlength="50"
              />
              <select id="sex">
                <option value="0">男</option>
                <option value="1">女</option>
              </select>
              <button id="registerBtn">注册用户</button>
            </div>
          </div>
          
          <div class="section">
            <div class="header">
              <h2>👥 用户列表</h2>
              <div class="header-actions">
                <input 
                  type="text" 
                  id="userSearch" 
                  placeholder="🔍 搜索用户ID或昵称..." 
                  class="search-input"
                />
                <button id="refreshUsersBtn">🔄 刷新</button>
              </div>
            </div>
            <div id="users"></div>
          </div>
        </div>
        
        <!-- Rooms Tab Content -->
        <div class="tab-content" id="rooms-tab">
          <div class="section">
            <h2>🏠 创建房间</h2>
            <div class="create-form">
              <input 
                type="number" 
                id="maxSize" 
                placeholder="最大容量" 
                value="100"
                min="1"
              />
              <button id="createBtn">创建房间</button>
            </div>
          </div>
          
          <div class="section">
            <div class="header">
              <h2>房间列表</h2>
              <button id="refreshBtn">🔄 刷新</button>
            </div>
            <div class="usage-hint">
              <p>💡 <strong>使用说明：</strong></p>
              <ol>
                <li>首先在"聊天"标签页中创建WebSocket连接（输入用户ID并点击"连接"）</li>
                <li>然后回到此页面，点击房间卡片上的"加入房间"按钮</li>
                <li>输入您的用户ID（与WebSocket连接时使用的ID相同）</li>
                <li>加入成功后，房间详情会显示在下方，展示当前在线用户</li>
              </ol>
            </div>
            <div id="room-detail-container" style="display: none;"></div>
            <div id="rooms"></div>
          </div>
        </div>
        
        <!-- Chat Tab Content -->
        <div class="tab-content" id="chat-tab">
          <div class="section">
            <div class="header">
              <h2>💬 WebSocket 聊天</h2>
              <button id="addConnectionBtn">➕ 添加连接</button>
            </div>
            <div id="connections" class="connections-container"></div>
          </div>
          
        </div>
      </main>
    </div>
  </div>
  
  <script type="module" src="/src/main.ts"></script>
</body>
</html>

